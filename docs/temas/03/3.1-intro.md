# **3.1. Introducci√≥n**

## **El Universo de Material Design 3 en Jetpack Compose: Creando Interfaces Modernas y Personales**

En el epicentro de esta revoluci√≥n se encuentra Material Design 3 (M3), la √∫ltima evoluci√≥n del lenguaje de dise√±o de Google. Este documento tiene como objetivo desglosar los conceptos fundamentales de M3 y su implementaci√≥n en Jetpack Compose, proporcionando una gu√≠a detallada para construir aplicaciones no solo funcionales y eficientes, sino tambi√©n expresivas, adaptables y profundamente humanas.

### **Introducci√≥n a los Conceptos Clave** üñ•Ô∏è

Para construir interfaces de usuario de alta calidad con Jetpack Compose, es imprescindible comprender los pilares sobre los que se asienta Material Design 3.

#### **¬øQu√© es Material Design?**

Material Design es un sistema de dise√±o integral creado y mantenido por Google. Su prop√≥sito es unificar la experiencia de usuario a trav√©s de todas las plataformas y dispositivos, proporcionando un conjunto coherente de directrices, componentes y herramientas para el dise√±o de interfaces. Lejos de ser solo una gu√≠a de estilo, es un lenguaje vivo que evoluciona para abordar las mejores pr√°cticas de dise√±o, usabilidad y accesibilidad. La versi√≥n 3, tambi√©n conocida como "Material You", marca un cambio de paradigma hacia la personalizaci√≥n y la adaptabilidad.

<img src="https://developer.android.com/static/develop/ui/compose/images/m3-sampleapp.png?hl=es-419" width="50%" align="center" alt="Ejemplo de la aplicaci√≥n Reply mostrando componentes de Material 3">
<p style="text-align: center; font-style: italic;">La aplicaci√≥n de ejemplo "Reply" implementada enteramente con Material Design 3 en Compose.</p>

#### üî∑ **Concepto en que se Basa Material Design**

El concepto central de Material Design se inspira en el mundo f√≠sico y sus texturas, particularmente el papel y la tinta. Se basa en una "met√°fora material" donde los elementos de la UI tienen superficies f√≠sicas y bordes. Las sombras y la elevaci√≥n proporcionan pistas visuales sobre la jerarqu√≠a y las interacciones posibles, indicando qu√© elementos se pueden tocar o mover. M3 expande esta idea con un enfoque en el movimiento expresivo y formas m√°s org√°nicas, haciendo que las interacciones se sientan m√°s intuitivas y naturales.

#### üî∑ **Fundamentos**

Los fundamentos de Material Design son los principios que sustentan todo el sistema. En M3, estos se centran en:

*   **Color:** Un sistema de color din√°mico y personalizable que puede adaptarse al fondo de pantalla del usuario.
*   **Tipograf√≠a:** Una escala de tipos adaptable que ajusta el tama√±o de la fuente seg√∫n el tama√±o de la pantalla, mejorando la legibilidad.
*   **Forma:** El uso de formas, como esquinas redondeadas, para transmitir personalidad y estado.
*   **Movimiento:** Animaciones significativas que gu√≠an al usuario y proporcionan retroalimentaci√≥n.

#### üî∑ **Dise√±o Adaptativo**

El dise√±o adaptativo es la pr√°ctica de crear layouts que se ajustan de manera inteligente a diferentes tama√±os de pantalla, orientaciones y dispositivos. M3 no solo se enfoca en que las aplicaciones se "vean bien" en tel√©fonos, tabletas o dispositivos plegables, sino que la experiencia de usuario sea √≥ptima en cada contexto. Esto se logra utilizando una combinaci√≥n de componentes flexibles, rejillas responsivas y patrones de dise√±o espec√≠ficos.

#### üî∑ **Accesibilidad**

La accesibilidad es un pilar fundamental de Material Design. Consiste en dise√±ar y construir aplicaciones que puedan ser utilizadas por personas con una amplia gama de habilidades y discapacidades (visuales, motoras, auditivas o cognitivas). M3 integra la accesibilidad desde su n√∫cleo, proporcionando componentes con el contraste de color adecuado, √°reas t√°ctiles de tama√±o suficiente y soporte para tecnolog√≠as de asistencia como los lectores de pantalla.

#### üî∑ **ColorScheme y sus Roles de Color**

El `ColorScheme` es el coraz√≥n del sistema de color de Material 3 en Jetpack Compose. Es un conjunto de m√°s de 20 roles de color que se utilizan para tematizar de manera consistente todos los componentes de la aplicaci√≥n. Lo revolucionario de M3 es que este esquema puede generarse din√°micamente a partir del fondo de pantalla del usuario en Android 12 y versiones posteriores, una caracter√≠stica clave de Material You.

Los nombres de los roles son sem√°nticos y describen su prop√≥sito en la UI, no un color espec√≠fico. Esto facilita la creaci√≥n de temas coherentes. Los roles principales son:

*   **Primary:** El color base de la marca, usado para componentes principales como botones prominentes y elementos activos.
*   **Secondary:** Un color de acento que proporciona m√°s formas de destacar elementos de la UI.
*   **Tertiary:** Un color de acento contrastante que se puede usar para equilibrar los colores primarios y secundarios o para resaltar elementos de menor importancia.
*   **Neutral:** Se utiliza para las superficies de la aplicaci√≥n, como los fondos y el texto.
*   **Neutral Variant:** Una variante del color neutral, usada para elementos como bordes o divisores.
*   **Error:** Se reserva para indicar errores, como en campos de texto con validaci√≥n incorrecta.

Cada uno de estos roles principales tiene colores "On" (por ejemplo, `onPrimary`), que se usan para el contenido (texto, iconos) que se coloca encima de su color correspondiente, garantizando as√≠ un contraste adecuado. Tambi√©n existen colores para superficies (`surface`) y sus diferentes elevaciones.

<figcaption>
  <img src="https://firebasestorage.googleapis.com/v0/b/design-spec/o/projects%2Fgoogle-material-3%2Fimages%2Fly2ms4t2-1.png?alt=media&token=722d8f55-45a4-4340-98ad-9ae1aa71b7ae" alt="Esquema de roles de color de Material 3">
  <p style="text-align: center; font-style: italic;">Los roles de color definen el prop√≥sito de un color en la UI. <a href="https://m3.material.io/styles/color/roles">Fuente: Material Design</a></p>
</figcaption>

#### üî∑ **Canonical Layouts**

Un "layout" define la estructura visual de una pantalla. En el contexto de M3 y el dise√±o adaptativo, los **Canonical Layouts** (dise√±os can√≥nicos) son plantillas de composici√≥n probadas y recomendadas que ayudan a organizar el contenido de manera efectiva en diferentes tama√±os de pantalla. Estos dise√±os son puntos de partida que abordan casos de uso comunes.

Los tres dise√±os can√≥nicos principales son:

1.  **List-Detail:** Ideal para aplicaciones que muestran una lista de elementos y el detalle de un elemento seleccionado, como una aplicaci√≥n de correo o un gestor de archivos. En pantallas compactas, la lista y el detalle ocupan pantallas separadas, mientras que en pantallas m√°s grandes se muestran lado a lado.
2.  **Supporting Pane:** Divide la pantalla en un √°rea de contenido principal y un panel secundario que ofrece informaci√≥n o controles contextuales. Un ejemplo ser√≠a una aplicaci√≥n de calendario con la vista principal del mes y un panel lateral que muestra los detalles de un evento seleccionado.
3.  **Feed:** Organiza el contenido en una cuadr√≠cula configurable, perfecta para explorar grandes cantidades de elementos equivalentes, como en una galer√≠a de fotos o un feed de noticias.

<div class="grid cards" markdown>

-   ![Feed](https://firebasestorage.googleapis.com/v0/b/design-spec/o/projects%2Fgoogle-material-3%2Fimages%2Flxydid0o-1.png?alt=media&token=55ae108a-f05d-4c08-ab1e-1fade8706194)
    <p class="text-center">Feed Layout</p>

-   ![List-detail](https://firebasestorage.googleapis.com/v0/b/design-spec/o/projects%2Fgoogle-material-3%2Fimages%2Flxydjght-2.png?alt=media&token=b304c1d5-579c-40dc-8fec-22bde1b72781)
    <p class="text-center">Layout lista-detalle</p>

-   ![Supporting pane](https://firebasestorage.googleapis.com/v0/b/design-spec/o/projects%2Fgoogle-material-3%2Fimages%2Flxydkkpk-3.png?alt=media&token=5c0b5f37-ee8e-43da-84a3-378abd1d3e04)
    <p class="text-center">Supporting Panel</p>

</div>

<p style="text-align: center; font-style: italic;">De izquierda a derecha: Feed, List-Detail, Supporting Pane. <a href="https://m3.material.io/foundations/layout/canonical-layouts">Fuente: Material Design</a></p>

#### üî∑ **Usabilidad**

La usabilidad se refiere a la facilidad con la que un usuario puede interactuar con una aplicaci√≥n para alcanzar sus objetivos. Material Design promueve una alta usabilidad a trav√©s de:

*   **Claridad:** Interfaces limpias, jerarqu√≠a visual clara y llamadas a la acci√≥n evidentes.
*   **Eficiencia:** Permite a los usuarios realizar tareas de manera r√°pida e intuitiva.
*   **Retroalimentaci√≥n:** Proporciona respuestas visuales claras a las interacciones del usuario a trav√©s de estados (ondulaciones al tocar, cambios de color) y movimiento.

!!! bug "Importante"
  
    En Jetpack Compose, estos principios se materializan a trav√©s de **componentes pre-construidos** que ya incorporan estas mejores pr√°cticas, permitiendo a los desarrolladores crear aplicaciones altamente usables con menos esfuerzo.


!!! example "Ejemplos Did√°cticos en Jetpack Compose"

    Veamos c√≥mo aplicar estos conceptos en el c√≥digo.

    **Ejemplo 1: Aplicando un `ColorScheme` Din√°mico**

    Para que tu aplicaci√≥n adopte los colores del fondo de pantalla del usuario (en Android 12+), el c√≥digo es sorprendentemente simple.

    ```kotlin
    @Composable
    fun MyAppTheme(
        darkTheme: Boolean = isSystemInDarkTheme(),
        content: @Composable () -> Unit
    ) {
        val context = LocalContext.current
        val colorScheme = when {
            // Soporte para color din√°mico en Android 12+
            Build.VERSION.SDK_INT >= Build.VERSION_CODES.S -> {
                if (darkTheme) dynamicDarkColorScheme(context)
                else dynamicLightColorScheme(context)
            }
            // Fallback a un tema personalizado para versiones anteriores
            darkTheme -> darkColorScheme(
                primary = /* Tu color oscuro primario */,
                secondary = /* Tu color oscuro secundario */
                /* ... otros colores ... */
            )
            else -> lightColorScheme(
                primary = /* Tu color claro primario */,
                secondary = /* Tu color claro secundario */
                /* ... otros colores ... */
            )
        }

        MaterialTheme(
            colorScheme = colorScheme,
            typography = /* Tu tipograf√≠a definida */,
            content = content
        )
    }
    ```

    Al envolver tu UI con `MyAppTheme`, componentes como `Button`, `FloatingActionButton` o `Card` usar√°n autom√°ticamente los colores correctos del `colorScheme` (`primary` para el bot√≥n, `surface` para la tarjeta, etc.) sin necesidad de especificarlos manualmente.

    **Ejemplo 2: Usando Roles de Color y Tipograf√≠a**

    Dentro de tus `Composables`, puedes acceder f√°cilmente a los roles definidos en tu tema.

    ```kotlin
    @Composable
    fun ProductCard(productName: String, productDescription: String) {
        Card(
            modifier = Modifier,
            colors = CardDefaults.cardColors(
                containerColor = MaterialTheme.colorScheme.surfaceVariant,
            )
        ) {
            Text(
                text = productName,
                style = MaterialTheme.typography.titleLarge,
                color = MaterialTheme.colorScheme.onSurface
            )
            Text(
                text = productDescription,
                style = MaterialTheme.typography.bodyMedium,
                color = MaterialTheme.colorScheme.onSurfaceVariant
            )
        }
    }
    ```

    En este ejemplo, la tarjeta (`Card`) usa el color `surfaceVariant` para su fondo, y los textos usan `onSurface` y `onSurfaceVariant` respectivamente, asegurando la legibilidad. La tipograf√≠a tambi√©n se obtiene del tema, garantizando consistencia.

    **Ejemplo 3: Componente Accesible - `Button` con Icono**

    Material Design y Compose facilitan la creaci√≥n de componentes accesibles. Un bot√≥n con solo un icono debe tener una descripci√≥n de texto para los lectores de pantalla.

    ```kotlin
    @Composable
    fun AddItemButton() {
        IconButton(onClick = { /* Acci√≥n al hacer clic */ }) {
            Icon(
                imageVector = Icons.Filled.Add,
                contentDescription = stringResource(R.string.add_item_description) // Descripci√≥n para accesibilidad
            )
        }
    }
    ```

    El par√°metro `contentDescription` es crucial. No es visible en la pantalla, pero proporciona a las herramientas de accesibilidad el contexto necesario para describir la funci√≥n del bot√≥n al usuario.


<br/>
<br/>

**Enlaces a la Documentaci√≥n Oficial:**

*   Introducci√≥n a Material Design 3: [https://m3.material.io/](https://m3.material.io/)
*   Material Design 3 para Jetpack Compose: [https://developer.android.com/jetpack/compose/design-systems/material3](https://developer.android.com/jetpack/compose/design-systems/material3)
*   El Sistema de Color de M3: [https://m3.material.io/styles/color/the-color-system](https://m3.material.io/styles/color/the-color-system)
*   Layouts Can√≥nicos: [https://m3.material.io/foundations/layout/canonical-layouts](https://m3.material.io/foundations/layout/canonical-layouts)
*   Gu√≠a de Accesibilidad: [https://m3.material.io/foundations/accessibility](https://m3.material.io/foundations/accessibility)